name: Pull Request Trigger

on:
  pull_request:
    branches:
      - main

jobs:
  echo:
    strategy:
      matrix:
        env:
          - dev
          - stg
          - prd
    uses: ./.github/workflows/echo-enviroments.yaml
    secrets: inherit
    with:
      env: ${{ matrix.env }}

  echo-test:
    strategy:
      matrix:
        env:
          - dev
          - stg
          - prd
    environment:
      name: ${{ matrix.env }}
    uses: ./.github/workflows/echo-secret.yaml
    secrets:
      RECEIVED_KEY: ${{ secrets.DUMMY_SECRET_KEY }}
